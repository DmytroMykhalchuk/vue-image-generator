import{A as P,W as V}from"./AsideForm-TpEd8NrA.js";import{_ as v,e as F,c as a,a as c,b as i,F as S,f as b,r,o as n,g as $,n as C,d as m,t as d,h as y,w as _,i as W}from"./index-PXdvfzBF.js";const N={name:"WaifuStory",components:{},data(){return{isOpenedPreviewStory:!1}},methods:{onRedirect(e){this.$store.dispatch("onStoryOpen",e)}},computed:{history(){return this.$store.getters.getStoryWaifu},waifuImage(){return this.$store.getters.getWaifuImage}}},D={class:"story"},E=["onClick"],U={style:{width:"100%"}},j={class:"secondary text-caption d-flex justify-space-between",style:{gap:"1em"}},A={class:"d-flex"},B=["src"],L={key:1,class:"url"};function R(e,l,g,w,t,s){const u=r("v-switch"),p=F("ripple");return n(),a("div",null,[c(u,{label:e.$t(`${t.isOpenedPreviewStory?"preview_off":"preview_on"}`),modelValue:t.isOpenedPreviewStory,"onUpdate:modelValue":l[0]||(l[0]=o=>t.isOpenedPreviewStory=o),color:"brown"},null,8,["label","modelValue"]),i("div",D,[(n(!0),a(S,null,b(s.history,o=>$((n(),a("button",{class:C(`story__item d-flex direction-column ${s.waifuImage===o.url&&"active"}`),variant:"text",width:"100%",onClick:h=>s.onRedirect(o)},[i("div",U,[i("div",j,[i("p",null,[m(d(e.$t("editing.type"))+": ",1),i("strong",null,d(o.type),1)]),i("p",null,[m(d(e.$t("editing.category"))+": ",1),i("strong",null,d(o.category),1)])]),i("div",A,[t.isOpenedPreviewStory?(n(),a("img",{key:0,class:"previewStory",src:o.url,alt:""},null,8,B)):(n(),a("p",L,d(o.url),1))])])],10,E)),[[p]])),256))])])}const T=v(N,[["render",R],["__scopeId","data-v-ef87cc1a"]]),k="nswf_extended",z={name:"Form",components:{AsideForm:P,WaifuStory:T},data(){return{type:"SFW",sfwCategories:["waifu","neko","shinobu","megumin","bully","cuddle","cry","hug","awoo","kiss","lick","pat","smug","bonk","yeet","blush","smile","wave","highfive","handhold","nom","bite","glomp","slap","kill","kick","happy","wink","poke","dance","cringe"],nsfwCategories:["waifu","neko","trap","blowjob"],selected:{SFW:"waifu",NSFW:"waifu"},isFetching:!1,isOpenedPreviewStory:!1,isExtendedVersion:!1}},mounted(){if(localStorage.getItem(k))this.isExtendedVersion=!0;else{const{searchParams:e}=new URL(window.location.href);e.get("nsfw")&&(localStorage.setItem(k,"1"),this.isExtendedVersion=!0)}},methods:{onSelectSFW(e){this.selected.SFW=e},onSelectNSFW(e){this.selected.NSFW=e},onSearch(){this.isFetching=!0;const e={type:this.type.toLocaleLowerCase(),category:this.selected[this.type]};this.$store.dispatch("fetchWaifuImages",e)}},computed:{waifuImage(){return this.$store.getters.getWaifuImage},waifuOpenedStory(){return this.$store.getters.getWaifuStory}},watch:{waifuImage(e){this.isFetching=!1},waifuOpenedStory(e){if(e!=null&&e.type){const l=e.type.toUpperCase();this.type=l,this.selected[l]=e.category}}}},K={class:"d-flex justify-center align-center pt-5"};function q(e,l,g,w,t,s){const u=r("WaifuStory"),p=r("v-radio"),o=r("v-radio-group"),h=r("v-chip"),I=r("v-btn"),x=r("AsideForm");return n(),y(x,null,{history:_(()=>[c(u)]),form:_(()=>[c(o,{label:e.$t("editing.type"),modelValue:t.type,"onUpdate:modelValue":l[0]||(l[0]=f=>t.type=f)},{default:_(()=>[c(p,{label:"SFW",value:"SFW",color:"brown"}),c(p,{label:"NSFW",value:"NSFW",color:"brown",disabled:!t.isExtendedVersion},null,8,["disabled"])]),_:1},8,["label","modelValue"]),t.type==="SFW"?(n(!0),a(S,{key:0},b(t.sfwCategories,f=>(n(),y(h,{class:"ma-1",color:"brown",variant:f===t.selected.SFW?"flat":"outlined",onClick:O=>s.onSelectSFW(f)},{default:_(()=>[m(d(f),1)]),_:2},1032,["variant","onClick"]))),256)):W("",!0),t.type==="NSFW"?(n(!0),a(S,{key:1},b(t.nsfwCategories,f=>(n(),y(h,{class:"ma-1",color:"brown",variant:f===t.selected.NSFW?"flat":"outlined",onClick:O=>s.onSelectNSFW(f)},{default:_(()=>[m(d(f),1)]),_:2},1032,["variant","onClick"]))),256)):W("",!0),i("div",K,[c(I,{color:"brown",loading:t.isFetching,onClick:s.onSearch},{default:_(()=>[m(d(e.$t("find")),1)]),_:1},8,["loading","onClick"])])]),_:1})}const G=v(z,[["render",q]]),H={name:"Display",components:{},data(){return{isCopied:!1,isOpenedPreviews:!1}},computed:{waifuImage(){return this.$store.getters.getWaifuImage},waifuStory(){return this.$store.getters.getStoryWaifu},waifuIsSaved(){return this.$store.getters.getIsSavedWaifu}},methods:{onSave(){this.$store.dispatch("saveImage")},onDonwload(){},onCopy(){navigator.clipboard.writeText(this.waifuImage),this.isCopied=!0}},watch:{waifuImage(){this.isCopied=!1}}},J={key:0},M={class:"actions pa-3"},Q=["href"],X=["src"],Y={key:1,class:"d-flex justify-content"},Z={class:"text-h6 text-center",style:{width:"100%"}};function ee(e,l,g,w,t,s){const u=r("v-btn"),p=r("v-icon");return n(),a("div",null,[s.waifuImage?(n(),a("div",J,[i("div",M,[c(u,{icon:"mdi-link",onClick:s.onCopy,disabled:t.isCopied},null,8,["onClick","disabled"]),i("a",{href:s.waifuImage,target:"_blank",download:"waifu",style:{color:"inherit"}},[c(u,{icon:"mdi-download",onClick:s.onDonwload},null,8,["onClick"])],8,Q),c(u,{icon:"mdi-heart",onClick:s.onSave},{default:_(()=>[c(p,{color:s.waifuIsSaved?"red":""},null,8,["color"])]),_:1},8,["onClick"])]),i("img",{class:"image elevation-4",ref:"imageRef",src:s.waifuImage,alt:""},null,8,X)])):(n(),a("div",Y,[i("p",Z,d(e.$t("no_image")),1)]))])}const te=v(H,[["render",ee],["__scopeId","data-v-f072cef4"]]),oe={name:"Favourites",components:{},data(){return{isOpenedPreviews:!1}},computed:{savedWaifus(){return this.$store.getters.getSavedWaifu},waifuImage(){return this.$store.getters.getWaifuImage}},methods:{onSelectFavourite(e){this.$store.dispatch("onStoryOpen",e)}}},se={class:"wrapper elevation-4"},ne=["onClick","disabled"],ie={class:"btn__preppend"},re={class:"text-body2 secondary"},ae={class:"text-body1 url"},ce={class:"btn__preview"},le=["src"];function de(e,l,g,w,t,s){const u=r("v-switch"),p=F("ripple");return n(),a("div",se,[c(u,{label:e.$t(`${t.isOpenedPreviews?"preview_off":"preview_on"}`),modelValue:t.isOpenedPreviews,"onUpdate:modelValue":l[0]||(l[0]=o=>t.isOpenedPreviews=o),color:"brown"},null,8,["label","modelValue"]),(n(!0),a(S,null,b(s.savedWaifus,o=>$((n(),a("button",{class:C(`btn ${s.waifuImage===o.url&&"active"}`),onClick:h=>s.onSelectFavourite(o),disabled:s.waifuImage===o.url},[i("div",ie,[i("p",re,d(o.type)+", "+d(o.category),1),i("p",ae,d(o.url),1)]),i("div",ce,[t.isOpenedPreviews?(n(),a("img",{key:0,src:o.url,alt:""},null,8,le)):W("",!0)])],10,ne)),[[p]])),256))])}const ue=v(oe,[["render",de],["__scopeId","data-v-e4cc52cb"]]),pe={name:"WaifuView",components:{WrapperPage:V,Form:G,Display:te,Favourites:ue},data(){return{}}};function _e(e,l,g,w,t,s){const u=r("Form"),p=r("Display"),o=r("Favourites"),h=r("WrapperPage");return n(),y(h,null,{form:_(()=>[c(u)]),content:_(()=>[c(p)]),info:_(()=>[c(o)]),_:1})}const me=v(pe,[["render",_e]]);export{me as default};
